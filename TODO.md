# TODO

* Write docs
* Test new config template
* Move logging server out of main


"global\n    pidfile /var/run/haproxy.pid\n    tune.ssl.default-dh-param 2048\n    log 127.0.0.1:1514 local0\n\n    #disable sslv3, prefer modern ciphers\n    ssl-default-bind-options no-sslv3\n    ssl-default-bind-ciphers ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:RSA+AESGCM:RSA+AES:!aNULL:!MD5:!DSS\n\n    ssl-default-server-options no-sslv3\n    ssl-default-server-ciphers ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:RSA+AESGCM:RSA+AES:!aNULL:!MD5:!DSS\n\ndefaults\n    mode    http\n    balance roundrobin\n\n    option  http-server-close\n    option  forwardfor\n    option  redispatch\n\n    errorfile 400 /errorfiles/400.http\n    errorfile 403 /errorfiles/403.http\n    errorfile 405 /errorfiles/405.http\n    errorfile 408 /errorfiles/408.http\n    errorfile 429 /errorfiles/429.http\n    errorfile 500 /errorfiles/500.http\n    errorfile 502 /errorfiles/502.http\n    errorfile 503 /errorfiles/503.http\n    errorfile 504 /errorfiles/504.http\n\n    maxconn 5000\n    timeout connect 5s\n    timeout client  20s\n    timeout server  20s\n    timeout queue   30s\n    timeout tunnel  3600s\n    timeout http-request 5s\n    timeout http-keep-alive 15s\n\n    stats enable\n    stats refresh 30s\n    stats realm Strictly\\ Private\n    stats auth admin:admin\n    stats uri /admin?stats\n\nfrontend services\n    bind *:80\n    bind *:443\n    mode http\n    log global\n    log-format \"%ft %b/%s %Tq/%Tw/%Tc/%Tr/%Tt %ST %B %CC %CS %tsc %ac/%fc/%bc/%sc/%rc %sq/%bq %hr %hs {%[ssl_c_verify],%{+Q}[ssl_c_s_dn],%{+Q}[ssl_c_i_dn]} %{+Q}r\"\n\n\nconfig1 fe content\n\nconfig2 fe content\n\nconfig1 be content\n\nconfig2 be content" (expected)

"global\n    pidfile /var/run/haproxy.pid\n    tune.ssl.default-dh-param 2048\n    log 127.0.0.1:1514 local0\n\n    #disable sslv3, prefer modern ciphers\n    ssl-default-bind-options no-sslv3\n    ssl-default-bind-ciphers ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:RSA+AESGCM:RSA+AES:!aNULL:!MD5:!DSS\n\n    ssl-default-server-options no-sslv3\n    ssl-default-server-ciphers ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:RSA+AESGCM:RSA+AES:!aNULL:!MD5:!DSS\n\ndefaults\n    mode    http\n    balance roundrobin\n\n    option  http-server-close\n    option  forwardfor\n    option  redispatch\n\n    errorfile 400 /errorfiles/400.http\n    errorfile 403 /errorfiles/403.http\n    errorfile 405 /errorfiles/405.http\n    errorfile 408 /errorfiles/408.http\n    errorfile 429 /errorfiles/429.http\n    errorfile 500 /errorfiles/500.http\n    errorfile 502 /errorfiles/502.http\n    errorfile 503 /errorfiles/503.http\n    errorfile 504 /errorfiles/504.http\n\n    maxconn 5000\n    timeout connect 5s\n    timeout client  20s\n    timeout server  20s\n    timeout queue   30s\n    timeout tunnel  3600s\n    timeout http-request 5s\n    timeout http-keep-alive 15s\n\n    stats enable\n    stats refresh 30s\n    stats realm Strictly\\ Private\n    stats auth admin:admin\n    stats uri /admin?stats\n\nfrontend services\n    bind *:80\n    bind *:443\n    mode http\n\n    log global\n    log-format \"%ft %b/%s %Tq/%Tw/%Tc/%Tr/%Tt %ST %B %CC %CS %tsc %ac/%fc/%bc/%sc/%rc %sq/%bq %hr %hs {%[ssl_c_verify],%{+Q}[ssl_c_s_dn],%{+Q}[ssl_c_i_dn]} %{+Q}r\"\n\nconfig1 fe content\n\nconfig2 fe content\n\nconfig1 be content\n\nconfig2 be content" (actual)